{"components":[{"type":"grid","id":"r_19cort","columns":[{"span":12,"id":"r_f50n1h","components":[{"type":"paragraph","id":"description","label":"","value":"In this form, the behaviour of the group component and the path structure are demonstrated.\nPress the \"Edit your form\" button on the top left and get familiar with UI editor, then press \"Next\" button to see the code in the integrate Python IDE.","exclude":false,"invalid":false},{"type":"button","id":"add_parent_row","text":"Add a row in parent group","invalid":false},{"type":"group","id":"parent_group","index":0,"deletable":true,"isTemplate":false,"components":[{"type":"paragraph","id":"parent_group_path","label":"Parent Group","value":"----","exclude":false,"invalid":false},{"type":"paragraph","id":"component_in_parent_group","label":"Component in Parent Group","value":"-------","exclude":false,"invalid":false},{"type":"buttonSecondary","id":"add_child_row","text":"Add a row in child group","invalid":false},{"type":"group","id":"child_group","index":0,"deletable":true,"isTemplate":false,"components":[{"type":"paragraph","id":"child_group_path","label":"Child Group","value":"----","exclude":false,"invalid":false},{"type":"paragraph","id":"component_in_child_group","label":"Component in child group","value":"-------","exclude":false,"invalid":false}],"invalid":false}],"invalid":false}]}],"spanSum":12,"isResizable":false}],"code":"from typing import List, Union\nfrom accessor import (\n    repeatRow,\n    setValue,\n    getGroupLength\n)\n\ndef on_add_parent_row_click(path: List[Union[str, int]]):\n    ### Add a row in parent group, return a path of the new row\n    new_parent_row_path = repeatRow(['parent_group'])\n\n    ### Group index is the second element of the newly create row path\n    new_parent_row_idx = new_parent_row_path[1]\n\n    ### Set all the text values of new created row\n    set_parent_group_values(new_parent_row_idx)\n    set_child_group_values(new_parent_row_idx, 0)\n\n    return\n\ndef on_add_child_row_click(path: List[Union[str, int]]):\n    ### This event handler function gets a path argument of the parent group,\n    ### where the trigger element is placed. So the second element of the path List is the\n    ### parent group index of the clicked button\n    parent_group_index = path[1]\n\n    ### Add a row in child group with returned index of parent group,\n    ### returns a path of the new row\n    new_child_row_path = repeatRow(['parent_group', parent_group_index, 'child_group'])\n\n    ### Group index is the fourth element of the newly create row path\n    new_row_index = new_child_row_path[3]\n\n    ### Set all the text values of new created row\n    set_child_group_values(parent_group_index, new_row_index)\n    \n    return\n\ndef on_parent_group_deleted(path: List[Union[str, int]]):\n    ### After group row deletion, update remaining values\n    for parent_idx in range(getGroupLength(['parent_group'])):\n        for child_idx in range(getGroupLength(['parent_group', parent_idx, 'child_group'])):\n            set_parent_group_values(parent_idx)\n            set_child_group_values(parent_idx, child_idx)\n    return\n\ndef on_child_group_deleted(path: List[Union[str, int]]):\n    ### After group row deletion, update remaining values\n    parent_idx = path[1]\n    for child_idx in range(getGroupLength(['parent_group', parent_idx, 'child_group'])):\n        set_child_group_values(parent_idx, child_idx)\n    return\n\ndef set_parent_group_values(parent_group_index):\n    setValue(\n        ['parent_group', parent_group_index, 'parent_group_path'],\n        f\"Path = [ 'parent_group' ,  {parent_group_index} ]\"\n    )\n    setValue(\n        ['parent_group', parent_group_index, 'component_in_parent_group'],\n        f\"Path = [ 'parent_group' ,  {parent_group_index} ,  'component_in_parent_group' ]\"\n    )\n\n    return\n\ndef set_child_group_values(parent_group_index, child_group_index):\n    setValue(\n        ['parent_group', parent_group_index, 'child_group', child_group_index, 'child_group_path'],\n        f\"Path = [ 'parent_group' ,  {parent_group_index},  'child_group' ,  {child_group_index} ]\"\n    )\n    setValue(\n        ['parent_group', parent_group_index, 'child_group', child_group_index, 'component_in_child_group'],\n        f\"Path = [ 'parent_group' ,  {parent_group_index} ,  'child_group' ,  {child_group_index} ,  'component_in_child_group' ]\"\n    )\n\n    return\n\ndef init():\n    set_parent_group_values(0)\n    set_child_group_values(0, 0)\n    return\n\ninit()\n","environments":[]}
